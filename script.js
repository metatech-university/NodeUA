const slides=document.querySelector(".js-slides"),slideItems=document.querySelectorAll(".js-slide"),btnLeft=document.querySelector(".js-prev"),btnRight=document.querySelector(".js-next");let currentIndex=0;function getVisibleSlides(){return window.innerWidth<768?1:4}function updateSlider(){var e=-100/getVisibleSlides()*currentIndex;slides.style.transform=`translateX(${e}%)`}btnRight.addEventListener("click",(()=>{currentIndex<slideItems.length-getVisibleSlides()&&(currentIndex++,updateSlider())})),btnLeft.addEventListener("click",(()=>{0<currentIndex&&(currentIndex--,updateSlider())})),window.addEventListener("resize",updateSlider);const surveyData={full_name:"",phone:"",tg:"",agreement:"",experience:"",role:"",has_attended:"",how_ready:"",course:""},$=(e,t=document)=>t.querySelector(e),getCheckedVal=e=>(e=document.querySelector(`input[name="${e}"]:checked`))?e.value:"",show=e=>e.style.display="",hide=e=>e.style.display="none",modal=$(".modal"),step1=$("#survey-form-step-1"),step2=$("#survey-form-step-2"),step3=$("#survey-form-step-3"),closeBtn=$(".modal-close"),backBtns=document.querySelectorAll(".survey-back"),surveyForm=$("#survey-form");window.openSuvey=function(){const e=$("#full_name")?.value.trim(),t=$("#phone")?.value.trim(),n=$("#telegram")?.value.trim(),s=$("#course")?.value.trim(),o=!0===$("#agreement")?.checked;e&&t&&o?(surveyData.full_name=e,surveyData.phone=t,surveyData.tg=n||"",surveyData.course=s||"",surveyData.agreement=o?"yes":"no",show(step1),hide(step2),hide(step3),modal.classList.add("is-open")):alert("Please fill all required fields.")},window.goToStep2=function(){var e=getCheckedVal("experience"),t=getCheckedVal("role");e&&t?(surveyData.experience=e,surveyData.role=t,hide(step1),show(step2)):alert("Please select experience and role")},window.goToStep1=function(){hide(step2),show(step1)},window.closeSurveyModal=function(){modal.classList.remove("is-open"),step1.style.display="none",step2.style.display="none",step3.style.display="none"},closeBtn?.addEventListener("click",(()=>{modal.classList.remove("is-open")})),backBtns.forEach((e=>{e.addEventListener("click",(()=>{"none"!==step2.style.display?goToStep1():modal.classList.remove("is-open")}))})),surveyForm.addEventListener("submit",(async e=>{e.preventDefault(),e=getCheckedVal("has_attended");var t=getCheckedVal("how_ready");if(e&&t){surveyData.has_attended=e,surveyData.how_ready=t,e={...surveyData,submittedAt:(new Date).toISOString()};try{var n=await fetch("https://pattern-960410420882.europe-central2.run.app",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}),s=await n.text();if(n.ok){try{JSON.parse(s)}catch{}hide(step1),hide(step2),show(step3)}else alert("The server rejected the request. (HTTP "+n.status+"). Details in the console.")}catch(e){alert("A network error has occurred. Check the console.")}}else alert("Please answer both questions.")}));const countdownElement=document.getElementById("countdown"),SEVEN_DAYS=6048e5;let lang=document.documentElement.lang||"ua";["ua","ru"].includes(lang)||(lang="ua");const text={ua:{d:"д",h:"г",m:"хв",s:"сек"},ru:{d:"дн",h:"ч",m:"мин",s:"сек"}};let startTime=sessionStorage.getItem("countdownStart");startTime||(startTime=Date.now(),sessionStorage.setItem("countdownStart",startTime)),startTime=Number(startTime);const deadline=startTime+6048e5,interval=setInterval((()=>{const e=Date.now(),t=deadline-e;if(t<=0)return clearInterval(interval),void(countdownElement.textContent="ru"===lang?"Время вышло!":"Час вийшов!");const n=Math.floor(t/864e5),s=Math.floor(t%864e5/36e5),o=Math.floor(t%36e5/6e4),r=Math.floor(t%6e4/1e3),a=text[lang];countdownElement.textContent=`${n} ${a.d} ${s} ${a.h} ${o} ${a.m} ${r} ${a.s}`}),1e3);document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("tariff-selection"),t=document.querySelector(".tariff-purchase-button"),n=document.querySelectorAll(".tariffs-selection-price .price"),s=document.querySelectorAll(".tariff-features .list");function o(){const o=e.options[e.selectedIndex],r=o.text.trim().toLowerCase(),a=o.value;n.forEach((e=>e.style.display="none")),s.forEach((e=>e.style.display="none"));const l=document.getElementById(`tariff-price-${r}`),d=document.getElementById(`tariff-${r}`);l&&(l.style.display="block"),d&&(d.style.display="block"),t&&(t.href=a)}o(),e.addEventListener("change",o)})),document.addEventListener("DOMContentLoaded",(()=>{let e,t;"ru"===document.documentElement.lang?(e="Развернуть",t="Свернуть"):(e="Розгорнути",t="Згорнути"),document.querySelectorAll(".review-toggle").forEach((n=>{n.textContent=e,n.addEventListener("click",(()=>{const s=n.closest(".review").querySelector(".review-body");s.classList.toggle("is-opened"),s.classList.contains("is-opened")?n.textContent=t:n.textContent=e}))}))}));